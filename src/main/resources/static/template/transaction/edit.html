<% if (credit !== null) { %>
<h3><%= (credit ? 'Credit' : 'Debit') + ' account - ' + account.get('name') %></h3>
<% } else { %>
<h3>Transfer from <%= fromAccount.get('name') %> to <%= account.get('name') %></h3>
<% } %>
<form class="form-horizontal" role="form">
  <div class="form-group">
    <label class="control-label col-sm-2">Title:</label>
    <div class="col-sm-10">
      <input class="form-control" name="title" />
    </div>
  </div>
  <div class="form-group">
    <label class="control-label col-sm-2">Category:</label>
    <div class="col-sm-10">
      <select class="form-control" name="categoryId">
        <option value="0">-- Select --</option>
        <% var categoryGroups = categories.where({parentId:null}) %>
        <% for (var i = 0; i < categoryGroups.length ; i++) { %>
          <optgroup label="<%= categoryGroups[i].get('name') %>">
            <% var subCategories = categories.where({parentId:categoryGroups[i].id}) %>
            <% for (var j = 0; j < subCategories.length ; j++) { %>
              <option value="<%= subCategories[j].id %>"><%= subCategories[j].get('name') %></option>
            <% } %>
          </optgroup>
        <% } %>
      </select>
    </div>
  </div>
  <div class="form-group">
    <label class="control-label col-sm-2">Value:</label>
    <div class="col-sm-10">
      <input type="number" step="0.01" class="form-control" name="value" />
    </div>
  </div>
  <div class="form-group">
    <label class="control-label col-sm-2">Happened:</label>
    <div class="col-sm-10">
      <input type="date" class="form-control" name="happened" value="<%= moment(new Date()).format('YYYY-MM-DD') %>" />
    </div>
  </div>
  <div class="form-group">
    <label class="control-label col-sm-2">Comments:</label>
    <div class="col-sm-10">
      <textarea class="form-control" name="comments"></textarea>
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <button type="submit" class="btn btn-default">Save</button>
    </div>
  </div>
</Form>